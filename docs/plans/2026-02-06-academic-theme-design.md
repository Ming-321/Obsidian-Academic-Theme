# Academic Theme 设计方案

## 1. 主题概览

### 1.1 定位
学术论文风 Obsidian 主题，模拟 LaTeX 排版的阅读体验。正文区域如同一张温暖的纸张放在桌面上，侧边栏沉浸在深邃的墨蓝中，整体给人"在深色书房中阅读论文"的感觉。

### 1.2 核心特性
- 暗色侧边栏 + 亮色纸张正文区的分区设计
- 正文区模拟纸张效果（页边距 + 阴影）
- 正文字体：中文宋体 + 英文 Times New Roman
- 标题字体：黑体（SimHei）
- H1 居中不编号，H2-H4 自动编号
- 两端对齐 + 首行缩进的中文论文排版
- 同时支持暗色模式（主力）和亮色模式（备选）

---

## 2. 配色方案

### 2.1 暗色模式（主力模式）

#### 暗色区域（侧边栏、标签栏、状态栏、视图头部）
| 用途 | 色值 | 说明 |
|------|------|------|
| 主背景 | `#1A2029` | 最深墨蓝（Ribbon、状态栏） |
| 次背景 | `#1E2630` | 墨蓝（标签栏、视图头部） |
| 活动标签 | `#2A3544` | 稍亮墨蓝 |
| 悬停/选中 | `#2A3544` | 稍亮的墨蓝 |
| 主文字 | `#C8CDD3` | 浅灰蓝 |
| 次要文字 | `#8A929A` | 中灰蓝（标题栏文件名、状态栏） |
| 当前标签文字 | `#FFFFFF` | 白色 |
| 分割线 | `#2F3B4A` | 微妙的墨蓝边框 |

#### 亮色区域（正文编辑区）
| 用途 | 色值 | 说明 |
|------|------|------|
| 桌面背景 | `#D8D6D0` | 浅灰暖色，模拟桌面 |
| 纸张背景 | `#FAFAF8` | 暖白色，模拟纸张 |
| 正文字色 | `#000000` | 纯黑 |
| 次要文字 | `#4A4A4A` | 深灰 |
| 纸张阴影 | `rgba(0,0,0,0.06)` | 极淡阴影 |

#### 强调色
| 用途 | 色值 | 说明 |
|------|------|------|
| 侧边栏强调色 | HSL(216, 50%, 55%) | 偏亮蓝（适合暗色背景） |
| 正文区强调色 | `#2B579A` / HSL(216, 56%, 39%) | 学术蓝（适合亮色背景） |
| 悬停状态 | `#1E3F73` | 深蓝 |

### 2.2 亮色模式（备选模式）

侧边栏使用暖灰色系，正文区保持暖白纸张效果。

---

## 3. 字体方案

| 元素 | 字体 | 说明 |
|------|------|------|
| 正文 | `Times New Roman`, `SimSun`, `STSong`, `Noto Serif CJK SC`, serif | 英文/数字优先 TNR，中文回退宋体 |
| 标题 | `SimHei`, `Microsoft YaHei`, `Noto Sans CJK SC`, sans-serif | 黑体 |
| 界面 | 默认 | 不做修改 |

---

## 4. 排版方案

### 4.1 正文排版
| 属性 | 值 | 说明 |
|------|-----|------|
| 行距 | 1.75 | 适合宋体屏幕阅读 |
| 对齐 | justify + text-align-last: left | 两端对齐，短行左对齐 |
| 首行缩进 | 2em | 约两个中文字符 |
| 段间距 | 0.3em | 微小间距防止段落粘连 |

### 4.2 标题排版
| 级别 | 字号 | 上间距 | 下间距 | 行距 | 编号 | 对齐 |
|------|------|--------|--------|------|------|------|
| H1 | 1.5em | 1.2em | 0.6em | 1.3 | 无 | 居中 |
| H2 | 1.25em | 1.0em | 0.5em | 1.3 | 1. | 左对齐 |
| H3 | 1.125em | 0.8em | 0.4em | 1.3 | 1.1 | 左对齐 |
| H4 | 1em | 0.6em | 0.3em | 1.3 | 1.1.1 | 左对齐 |
| H5-H6 | 1em | 0.5em | 0.2em | 1.3 | 无 | 左对齐 |

---

## 5. 布局方案

### 5.1 纸张效果
- 视图头部（文件名/面包屑）：匹配侧边栏暗色
- view-content 背景：灰色桌面 `#D8D6D0`
- markdown-preview-view / cm-scroller：暖白纸张 `#FAFAF8`
- 纸张页边距：左右各 40px + 两侧 20px margin
- 纸张阴影：`box-shadow: 0 1px 6px rgba(0,0,0,0.06)`

### 5.2 内嵌标题
- 隐藏 Obsidian 的 inline-title（文件名标题）

### 5.3 表格与图像
- 表格自动居中
- 图像自动居中

---

## 6. 技术约束（来自 Obsidian 开发者文档）

1. **优先使用 CSS 变量** — 减少选择器特异性，提升兼容性
2. **避免 `!important`** — 允许用户通过 snippet 覆盖主题样式
3. **`.theme-dark` / `.theme-light`** — 颜色变量在对应选择器下定义
4. **`body`** — 通用变量（字体、圆角等）在 body 下定义
5. **正文区变量覆盖** — 使用 `.theme-dark .mod-root` 重新定义变量实现分区配色

---

## 7. CSS 文件结构

```
theme.css
├── 第 1 部分：通用变量（body）
├── 第 2 部分：暗色模式（.theme-dark + .theme-dark .mod-root）
├── 第 3 部分：亮色模式（.theme-light + .theme-light .mod-root）
├── 第 4 部分：纸张效果（桌面背景、视图头部、纸张样式）
├── 第 5 部分：正文排版（对齐、缩进、间距）
├── 第 6 部分：标题自动编号（CSS Counters）
├── 第 7 部分：表格与图像居中
└── 第 8 部分：界面元素微调
```
